{% extends "base.html" %}
{% load static %}
{% block title %}Login - E-Commerce{% endblock %}

{% block content %}
<div style="max-width:420px;margin:30px auto;padding:20px;border:1px solid #eee;border-radius:8px;background:#fff;">
  <h2 style="margin:0 0 10px;font-size:22px;color:#222">Login</h2>
  <p style="margin:0 0 18px;color:#666">Sign in to access your cart and orders</p>

  {% if error %}
    <div style="background:#ffecec;color:#d33;padding:10px;border-radius:6px;margin-bottom:12px;font-weight:600;">
      {{ error }}
    </div>
  {% endif %}

  <form method="post" action="{% url 'login' %}" novalidate>
    {% csrf_token %}

    <div style="margin-bottom:12px;">
      <label for="email" style="display:block;margin-bottom:6px;font-weight:600;color:#333">Email</label>
      <input id="email" name="email" type="email" required
             style="width:100%;padding:10px;border:1px solid #ddd;border-radius:6px;font-size:14px">
    </div>

    <div style="margin-bottom:14px;">
      <label for="password" style="display:block;margin-bottom:6px;font-weight:600;color:#333">Password</label>
      <input id="password" name="password" type="password" required
             style="width:100%;padding:10px;border:1px solid #ddd;border-radius:6px;font-size:14px">
    </div>

    {# Optional: keep return_url if passed as query param (view sets class var on GET) #}
    {% if request.GET.return_url %}
      <input type="hidden" name="return_url" value="{{ request.GET.return_url }}">
    {% endif %}

    <button type="submit" class="add-btn" style="width:100%;padding:12px;border-radius:6px;font-weight:800;">
      Login
    </button>
  </form>

  <div style="margin-top:14px;text-align:center;color:#666">
    Don't have an account? <a href="{% url 'signup' %}">Signup</a>
  </div>
</div>
{% endblock %}
